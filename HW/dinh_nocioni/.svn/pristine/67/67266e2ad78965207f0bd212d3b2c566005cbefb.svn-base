import enum

class Match(enum.Enum):
  EXACT = "EXACT"
  EXISTS = "EXISTS"
  NO_MATCH = "NO_MATCH"

def findExists(target, guess):

  indexes = list()
  
  for i in range(5):
    if(guess[i] == ' '):
      continue
    if(guess[i] in target):
      target[target.index(guess[i])] = ' '
      indexes.append(i)

  return indexes


def tally(target, guess):

  if(len(guess) != 5):
    raise ValueError("Incorrect Size")  

  target = list(target)
  guess = list(guess)
  response = [Match.NO_MATCH] * 5
  
  for i in range(5):
      
    if(guess[i] == target[i]):
      response[i] = Match.EXACT
      target[i] = ' '
      guess[i] = ' '
      

  for i in findExists(target, guess):    
    response[i] = Match.EXISTS


      
  return response

#Feedback: in the code below we are modifying the parameter given to a function or variables outside of its scope.
#That is generally not a good practice. Also, it will be nice to use functional style instead of imperative style.

#Take a stab, as a team, to refactor the code. Let both of you spend about 2 hours max. If you have no clue
#how to refactor to achieve the above goals, drop an email asking for help from Venkat.
